{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kronos\\\\Documents\\\\Programming\\\\Web\\\\React\\\\CS-3750-Project\\\\ClientApp\\\\src\\\\components\\\\Registrations\\\\Registrations.js\";\nimport { Button, Grid } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Form as FForm } from \"react-final-form\";\nimport { DataContext } from \"../../context/DataProvider\";\nimport DepartmentDropDown from \"../Courses/DepartmentDropDown\";\nimport { TextEntryItem } from \"../FormComponents\";\nimport RegistrationsTable from \"./RegistrationsTable\";\nexport default function Registrations() {\n  const {\n    allCourses\n  } = useContext(DataContext);\n  const [filteredCourses, setFilteredCourses] = useState(undefined);\n  useEffect(() => {\n    // Initially load all courses once they are available\n    if (!filteredCourses && allCourses) {\n      setFilteredCourses(allCourses);\n    }\n  }, [allCourses]);\n\n  const onSubmit = ({\n    department,\n    titleKeyWords\n  }) => {\n    setFilteredCourses(allCourses.filter(c => {\n      return (department === \"Any\" || c.department === department) && (!titleKeyWords || c.courseName.includes(titleKeyWords.trim()));\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    style: {\n      width: \"100%\"\n    },\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    container: true,\n    xs: 12,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FForm, {\n    onSubmit: onSubmit,\n    initialValues: {\n      department: \"Any\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, ({\n    handleSubmit\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    style: {\n      width: 500\n    },\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(DepartmentDropDown, {\n    xs: 4,\n    enableAnyOption: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(TextEntryItem, {\n    xs: 6,\n    name: \"titleKeyWords\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    style: {\n      height: \"100%\"\n    },\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 41\n    }\n  }))))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(RegistrationsTable, {\n    rows: filteredCourses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/Kronos/Documents/Programming/Web/React/CS-3750-Project/ClientApp/src/components/Registrations/Registrations.js"],"names":["Button","Grid","Search","React","useContext","useEffect","useState","Form","FForm","DataContext","DepartmentDropDown","TextEntryItem","RegistrationsTable","Registrations","allCourses","filteredCourses","setFilteredCourses","undefined","onSubmit","department","titleKeyWords","filter","c","courseName","includes","trim","width","handleSubmit","height"],"mappings":"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","sourcesContent":["import { Button, Grid } from \"@material-ui/core\";\r\nimport { Search } from \"@material-ui/icons\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { Form as FForm } from \"react-final-form\";\r\nimport { DataContext } from \"../../context/DataProvider\";\r\nimport DepartmentDropDown from \"../Courses/DepartmentDropDown\";\r\nimport { TextEntryItem } from \"../FormComponents\";\r\nimport RegistrationsTable from \"./RegistrationsTable\";\r\n\r\nexport default function Registrations() {\r\n    const { allCourses } = useContext(DataContext);\r\n\r\n    const [filteredCourses, setFilteredCourses] = useState(undefined);\r\n\r\n    useEffect(() => {\r\n        // Initially load all courses once they are available\r\n        if (!filteredCourses && allCourses) {\r\n            setFilteredCourses(allCourses);\r\n        }\r\n    }, [allCourses]);\r\n\r\n    const onSubmit = ({ department, titleKeyWords }) => {\r\n        setFilteredCourses(\r\n            allCourses.filter(c => {\r\n                return (\r\n                    (department === \"Any\" || c.department === department) &&\r\n                    (!titleKeyWords ||\r\n                        c.courseName.includes(titleKeyWords.trim()))\r\n                );\r\n            })\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Grid container style={{ width: \"100%\" }} spacing={2}>\r\n            <Grid item container xs={12} justify=\"center\">\r\n                <FForm\r\n                    onSubmit={onSubmit}\r\n                    initialValues={{\r\n                        department: \"Any\"\r\n                    }}\r\n                >\r\n                    {({ handleSubmit }) => (\r\n                        <form onSubmit={handleSubmit}>\r\n                            <Grid container style={{ width: 500 }} spacing={1}>\r\n                                <DepartmentDropDown xs={4} enableAnyOption />\r\n                                {/* TODO Ky: Maybe change so search button does not need to be clicked */}\r\n                                <TextEntryItem xs={6} name=\"titleKeyWords\" />\r\n                                <Grid item xs={2}>\r\n                                    <Button\r\n                                        variant=\"outlined\"\r\n                                        color=\"primary\"\r\n                                        style={{ height: \"100%\" }}\r\n                                        type=\"submit\"\r\n                                    >\r\n                                        <Search />\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </form>\r\n                    )}\r\n                </FForm>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <RegistrationsTable rows={filteredCourses} />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}