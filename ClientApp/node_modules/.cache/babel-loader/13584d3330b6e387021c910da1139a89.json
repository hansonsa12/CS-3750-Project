{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kronos\\\\Documents\\\\Programming\\\\Web\\\\React\\\\CS-3750-Project\\\\ClientApp\\\\src\\\\components\\\\Profile\\\\ProfileForm.js\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Grid, IconButton, Tooltip } from \"@material-ui/core\";\nimport { Add, Edit } from '@material-ui/icons';\nimport axios from 'axios';\nimport arrayMutators from 'final-form-arrays';\nimport { makeValidate } from 'mui-rff';\nimport React, { useContext } from \"react\";\nimport { Form as FForm } from \"react-final-form\";\nimport * as Yup from \"yup\";\nimport { AuthContext } from '../../context/AuthProvider';\nimport { MAX_PROFILE_LINKS } from '../../helpers/constants';\nimport { SectionHeaderItem, TextEntryItem } from '../FormComponents';\nimport { LinkForm } from './LinkForm';\nexport default function ProfileForm() {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const {\n    authHeader,\n    user,\n    updateUser\n  } = useContext(AuthContext);\n\n  const onSubmit = values => {\n    axios.put(\"api/users\", values, authHeader).then(res => {\n      updateUser(res.data);\n      handleClose();\n    }).catch(err => {\n      alert(err.message);\n      console.error(err.message);\n    });\n  };\n\n  const validationSchema = Yup.object().shape({\n    profileLinks: Yup.array().of(Yup.object().shape({\n      link: Yup.string().required(\"Link cannot be blank\")\n    }))\n  });\n  const validate = makeValidate(validationSchema);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Edit Profile\",\n    placement: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleClickOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Edit, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(FForm, {\n    onSubmit: onSubmit,\n    mutators: { ...arrayMutators\n    },\n    initialValues: { ...user\n    },\n    validate: validate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, ({\n    handleSubmit,\n    form: {\n      mutators: {\n        push,\n        pop\n      }\n    },\n    values\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 29\n    }\n  }, \"Edit Profile\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    justify: \"space-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(TextEntryItem, {\n    name: \"biography\",\n    rows: 6,\n    multiline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(TextEntryItem, {\n    name: \"phoneNumber\",\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(SectionHeaderItem, {\n    title: \"Links\",\n    action: /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"Add Link\",\n      placement: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: () => {\n        push('profileLinks', undefined);\n      },\n      disabled: values.profileLinks.length >= MAX_PROFILE_LINKS,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Add, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 49\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(LinkForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(SectionHeaderItem, {\n    title: \"Address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(TextEntryItem, {\n    name: \"address.addressOne\",\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(TextEntryItem, {\n    name: \"address.addressTwo\",\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(TextEntryItem, {\n    name: \"address.city\",\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(TextEntryItem, {\n    name: \"address.state\",\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(TextEntryItem, {\n    name: \"address.zipCode\",\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 33\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSubmit,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 33\n    }\n  }, \"Submit\"))))));\n}","map":{"version":3,"sources":["C:/Users/Kronos/Documents/Programming/Web/React/CS-3750-Project/ClientApp/src/components/Profile/ProfileForm.js"],"names":["Button","Dialog","DialogActions","DialogContent","DialogTitle","Grid","IconButton","Tooltip","Add","Edit","axios","arrayMutators","makeValidate","React","useContext","Form","FForm","Yup","AuthContext","MAX_PROFILE_LINKS","SectionHeaderItem","TextEntryItem","LinkForm","ProfileForm","open","setOpen","useState","handleClickOpen","handleClose","authHeader","user","updateUser","onSubmit","values","put","then","res","data","catch","err","alert","message","console","error","validationSchema","object","shape","profileLinks","array","of","link","string","required","validate","handleSubmit","form","mutators","push","pop","undefined","length"],"mappings":"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","sourcesContent":["import {\r\n    Button,\r\n    Dialog,\r\n    DialogActions, DialogContent, DialogTitle, Grid,\r\n    IconButton,\r\n    Tooltip\r\n} from \"@material-ui/core\";\r\nimport { Add, Edit } from '@material-ui/icons';\r\nimport axios from 'axios';\r\nimport arrayMutators from 'final-form-arrays';\r\nimport { makeValidate } from 'mui-rff';\r\nimport React, { useContext } from \"react\";\r\nimport { Form as FForm } from \"react-final-form\";\r\nimport * as Yup from \"yup\";\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { MAX_PROFILE_LINKS } from '../../helpers/constants';\r\nimport { SectionHeaderItem, TextEntryItem } from '../FormComponents';\r\nimport { LinkForm } from './LinkForm';\r\n\r\nexport default function ProfileForm() {\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const { authHeader, user, updateUser } = useContext(AuthContext);\r\n\r\n    const onSubmit = values => {\r\n        axios\r\n            .put(\"api/users\", values, authHeader)\r\n            .then(res => {\r\n                updateUser(res.data);\r\n                handleClose();\r\n            })\r\n            .catch(err => {\r\n                alert(err.message);\r\n                console.error(err.message);\r\n            });\r\n\r\n    }\r\n\r\n    const validationSchema = Yup.object().shape({\r\n        profileLinks: Yup.array().of(Yup.object().shape({\r\n            link: Yup.string().required(\"Link cannot be blank\")\r\n        }))\r\n    });\r\n\r\n    const validate = makeValidate(validationSchema);\r\n\r\n    return (\r\n        <div>\r\n            <Tooltip title=\"Edit Profile\" placement=\"right\">\r\n                <IconButton onClick={handleClickOpen}>\r\n                    <Edit />\r\n                </IconButton>\r\n            </Tooltip>\r\n            <FForm\r\n                onSubmit={onSubmit}\r\n                mutators={{\r\n                    ...arrayMutators\r\n                }}\r\n                initialValues={{\r\n                    ...user,\r\n                }}\r\n                validate={validate}\r\n            >\r\n                {({ handleSubmit, form: { mutators: { push, pop } }, values }) => (\r\n                    <form onSubmit={handleSubmit}>\r\n                        <Dialog\r\n                            open={open}\r\n                            onClose={handleClose}\r\n                            aria-labelledby=\"form-dialog-title\"\r\n                        >\r\n                            <DialogTitle id=\"form-dialog-title\">Edit Profile</DialogTitle>\r\n                            <DialogContent>\r\n                                <Grid container spacing={2} justify=\"space-between\">\r\n                                    <TextEntryItem name=\"biography\" rows={6} multiline />\r\n                                    <TextEntryItem name=\"phoneNumber\" sm={6} />\r\n                                    <SectionHeaderItem title=\"Links\" action={\r\n                                        <Tooltip title=\"Add Link\" placement=\"left\">\r\n                                            <IconButton size=\"small\" \r\n                                                onClick={() => { \r\n                                                    push('profileLinks', undefined)\r\n                                                }}\r\n                                                disabled={values.profileLinks.length >= MAX_PROFILE_LINKS}\r\n                                            >\r\n                                                <Add fontSize=\"small\" />\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n                                    }/>\r\n                                    <LinkForm />\r\n                                    {/* TODO Ky Add link field array */}\r\n                                    <SectionHeaderItem title=\"Address\" />\r\n                                    <TextEntryItem name=\"address.addressOne\" sm={6} />\r\n                                    <TextEntryItem name=\"address.addressTwo\" sm={6} />\r\n                                    <TextEntryItem name=\"address.city\" sm={6} />\r\n                                    <TextEntryItem name=\"address.state\" sm={6} />\r\n                                    <TextEntryItem name=\"address.zipCode\" sm={6} />\r\n                                </Grid>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button onClick={handleClose} color=\"primary\">\r\n                                    Cancel\r\n                                </Button>\r\n                                <Button onClick={handleSubmit} color=\"primary\">\r\n                                    Submit\r\n                                </Button>\r\n                            </DialogActions>\r\n                        </Dialog>\r\n                    </form>\r\n                )}\r\n            </FForm>\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}