{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kronos\\\\Documents\\\\Programming\\\\Web\\\\React\\\\CS-3750-Project\\\\ClientApp\\\\src\\\\components\\\\Dashboard\\\\TodoList.js\";\nimport { Divider } from \"@material-ui/core\";\nimport List from \"@material-ui/core/List\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { DataContext } from \"../../context/DataProvider\";\nimport TodoItem from \"./TodoItem\";\nexport default function TodoList() {\n  const {\n    assignments\n  } = useContext(DataContext);\n  const [todoList, setTodoList] = useState([]);\n  useEffect(() => {\n    setTodoList(getSortedAssignments());\n  }, []);\n\n  const getSortedAssignments = () => {\n    const sortedAssignments = assignments === null || assignments === void 0 ? void 0 : assignments.sort(function (a, b) {\n      /*\r\n        Today's date variable\r\n        if that date is older, don't show\r\n        else show assignment\r\n      */\n      return new Date(a.dueDate) - new Date(b.dueDate);\n    });\n\n    if ((sortedAssignments === null || sortedAssignments === void 0 ? void 0 : sortedAssignments.length) > 6) {\n      return sortedAssignments.slice(0, 6);\n      var today = new Date();\n      var dd = String(today.getDate()).padStart(2, '0');\n      var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n      var yyyy = today.getFullYear();\n      today = mm + '/' + dd + '/' + yyyy;\n      document.write(today);\n      var cleanedAssignments = []; //For each assignment\n\n      for (var i = 0; i < sortedAssignments.length; i++) {\n        if (sortedAssignments[i].dueDate >= today) {\n          cleanedAssignments.add(sortedAssignments[i]);\n        }\n      }\n\n      return cleanedAssignments.slice(0, 6);\n    }\n\n    return sortedAssignments;\n  };\n\n  const handleTodoItemDelete = id => {\n    let tempArray = [];\n\n    if (todoList != undefined) {\n      tempArray = todoList.filter(item => item.assignmentId != id);\n    }\n\n    setTodoList(tempArray);\n  }; // sort assignments by due date, soonest due to furthest out\n  // only show top 5-6\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    subheader: \"To Do\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), todoList === null || todoList === void 0 ? void 0 : todoList.map((assignment, index) => /*#__PURE__*/React.createElement(TodoItem, {\n    key: `todoitem-${index}`,\n    assignment: assignment,\n    onDelete: handleTodoItemDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/Kronos/Documents/Programming/Web/React/CS-3750-Project/ClientApp/src/components/Dashboard/TodoList.js"],"names":["Divider","List","React","useContext","useState","useEffect","DataContext","TodoItem","TodoList","assignments","todoList","setTodoList","getSortedAssignments","sortedAssignments","sort","a","b","Date","dueDate","length","slice","today","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","document","write","cleanedAssignments","i","add","handleTodoItemDelete","id","tempArray","undefined","filter","item","assignmentId","map","assignment","index"],"mappings":"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","sourcesContent":["import { Divider } from \"@material-ui/core\";\r\nimport List from \"@material-ui/core/List\";\r\nimport React, { useContext, useState, useEffect } from \"react\";\r\nimport { DataContext } from \"../../context/DataProvider\";\r\n\r\nimport TodoItem from \"./TodoItem\";\r\n\r\nexport default function TodoList() {\r\n    const { assignments } = useContext(DataContext);\r\n    const [todoList, setTodoList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setTodoList(getSortedAssignments());\r\n    }, []);\r\n\r\n    const getSortedAssignments = () => {\r\n        const sortedAssignments = assignments?.sort(function (a, b) {\r\n            /*\r\n              Today's date variable\r\n              if that date is older, don't show\r\n              else show assignment\r\n            */\r\n            return new Date(a.dueDate) - new Date(b.dueDate);\r\n        });\r\n\r\n        if (sortedAssignments?.length > 6) {\r\n            \r\n            return sortedAssignments.slice(0, 6);\r\n\r\n            var today = new Date();\r\n            var dd = String(today.getDate()).padStart(2, '0');\r\n            var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n            var yyyy = today.getFullYear();\r\n\r\n            today = mm + '/' + dd + '/' + yyyy;\r\n            document.write(today);\r\n\r\n            var cleanedAssignments =[];\r\n            //For each assignment\r\n            for(var i = 0; i < sortedAssignments.length; i++){\r\n                if(sortedAssignments[i].dueDate >= today)\r\n                {\r\n                    cleanedAssignments.add(sortedAssignments[i])\r\n                }\r\n            }\r\n            return cleanedAssignments.slice(0, 6);\r\n        }\r\n\r\n        return sortedAssignments;\r\n    };\r\n\r\n    const handleTodoItemDelete = (id) => {\r\n        let tempArray = [];\r\n        if (todoList != undefined) {\r\n            tempArray = todoList.filter((item) => item.assignmentId != id);\r\n        }\r\n        setTodoList(tempArray);\r\n    };\r\n\r\n    // sort assignments by due date, soonest due to furthest out\r\n    // only show top 5-6\r\n\r\n    return (\r\n        <div>\r\n            <List subheader=\"To Do\">\r\n                <Divider />\r\n                {todoList?.map((assignment, index) => (\r\n                    <TodoItem\r\n                        key={`todoitem-${index}`}\r\n                        assignment={assignment}\r\n                        onDelete={handleTodoItemDelete}\r\n                    />\r\n                ))}\r\n                <Divider />\r\n            </List>\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}